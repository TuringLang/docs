<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.30">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Tracking Extra Quantities â€“ Turing.jl</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../../usage/mode-estimation/index.html" rel="next">
<link href="../../usage/modifying-logprob/index.html" rel="prev">
<link href="../../assets/favicon.ico" rel="icon">
<script src="../../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-de070a7b0ab54f8780927367ac907214.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-dark-2b3e328b71be8d25427581baeb23079b.css" rel="stylesheet" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-de070a7b0ab54f8780927367ac907214.css" rel="stylesheet" class="quarto-color-scheme-extra" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap-45df24dc1485a233dc76492db592b344.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../../site_libs/bootstrap/bootstrap-dark-3d2c2b059e745154d0d7919feeea7e11.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<link href="../../site_libs/bootstrap/bootstrap-45df24dc1485a233dc76492db592b344.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme-extra" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<style>html{ scroll-behavior: smooth; }</style>
<style>
  a {
    text-decoration: none;
  }
  a:hover {
    text-decoration: underline;
  }
</style>


<link rel="stylesheet" href="../../theming/styles.css">
</head>

<body class="nav-sidebar floating nav-fixed quarto-light"><script id="quarto-html-before-body" type="application/javascript">
    const toggleBodyColorMode = (bsSheetEl) => {
      const mode = bsSheetEl.getAttribute("data-mode");
      const bodyEl = window.document.querySelector("body");
      if (mode === "dark") {
        bodyEl.classList.add("quarto-dark");
        bodyEl.classList.remove("quarto-light");
      } else {
        bodyEl.classList.add("quarto-light");
        bodyEl.classList.remove("quarto-dark");
      }
    }
    const toggleBodyColorPrimary = () => {
      const bsSheetEl = window.document.querySelector("link#quarto-bootstrap:not([rel=disabled-stylesheet])");
      if (bsSheetEl) {
        toggleBodyColorMode(bsSheetEl);
      }
    }
    const setColorSchemeToggle = (alternate) => {
      const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
      for (let i=0; i < toggles.length; i++) {
        const toggle = toggles[i];
        if (toggle) {
          if (alternate) {
            toggle.classList.add("alternate");
          } else {
            toggle.classList.remove("alternate");
          }
        }
      }
    };
    const toggleColorMode = (alternate) => {
      // Switch the stylesheets
      const primaryStylesheets = window.document.querySelectorAll('link.quarto-color-scheme:not(.quarto-color-alternate)');
      const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
      manageTransitions('#quarto-margin-sidebar .nav-link', false);
      if (alternate) {
        // note: dark is layered on light, we don't disable primary!
        enableStylesheet(alternateStylesheets);
        for (const sheetNode of alternateStylesheets) {
          if (sheetNode.id === "quarto-bootstrap") {
            toggleBodyColorMode(sheetNode);
          }
        }
      } else {
        disableStylesheet(alternateStylesheets);
        enableStylesheet(primaryStylesheets)
        toggleBodyColorPrimary();
      }
      manageTransitions('#quarto-margin-sidebar .nav-link', true);
      // Switch the toggles
      setColorSchemeToggle(alternate)
      // Hack to workaround the fact that safari doesn't
      // properly recolor the scrollbar when toggling (#1455)
      if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
        manageTransitions("body", false);
        window.scrollTo(0, 1);
        setTimeout(() => {
          window.scrollTo(0, 0);
          manageTransitions("body", true);
        }, 40);
      }
    }
    const disableStylesheet = (stylesheets) => {
      for (let i=0; i < stylesheets.length; i++) {
        const stylesheet = stylesheets[i];
        stylesheet.rel = 'disabled-stylesheet';
      }
    }
    const enableStylesheet = (stylesheets) => {
      for (let i=0; i < stylesheets.length; i++) {
        const stylesheet = stylesheets[i];
        if(stylesheet.rel !== 'stylesheet') { // for Chrome, which will still FOUC without this check
          stylesheet.rel = 'stylesheet';
        }
      }
    }
    const manageTransitions = (selector, allowTransitions) => {
      const els = window.document.querySelectorAll(selector);
      for (let i=0; i < els.length; i++) {
        const el = els[i];
        if (allowTransitions) {
          el.classList.remove('notransition');
        } else {
          el.classList.add('notransition');
        }
      }
    }
    const isFileUrl = () => {
      return window.location.protocol === 'file:';
    }
    const hasAlternateSentinel = () => {
      let styleSentinel = getColorSchemeSentinel();
      if (styleSentinel !== null) {
        return styleSentinel === "alternate";
      } else {
        return false;
      }
    }
    const setStyleSentinel = (alternate) => {
      const value = alternate ? "alternate" : "default";
      if (!isFileUrl()) {
        window.localStorage.setItem("quarto-color-scheme", value);
      } else {
        localAlternateSentinel = value;
      }
    }
    const getColorSchemeSentinel = () => {
      if (!isFileUrl()) {
        const storageValue = window.localStorage.getItem("quarto-color-scheme");
        return storageValue != null ? storageValue : localAlternateSentinel;
      } else {
        return localAlternateSentinel;
      }
    }
    const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
      const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
      const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
      let newTheme = '';
      if(authorPrefersDark) {
        newTheme = isAlternate ? baseTheme : alternateTheme;
      } else {
        newTheme = isAlternate ? alternateTheme : baseTheme;
      }
      const changeGiscusTheme = () => {
        // From: https://github.com/giscus/giscus/issues/336
        const sendMessage = (message) => {
          const iframe = document.querySelector('iframe.giscus-frame');
          if (!iframe) return;
          iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
        }
        sendMessage({
          setConfig: {
            theme: newTheme
          }
        });
      }
      const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
      if (isGiscussLoaded) {
        changeGiscusTheme();
      }
    };
    const authorPrefersDark = false;
    const darkModeDefault = authorPrefersDark;
      document.querySelector('link#quarto-text-highlighting-styles.quarto-color-scheme-extra').rel = 'disabled-stylesheet';
      document.querySelector('link#quarto-bootstrap.quarto-color-scheme-extra').rel = 'disabled-stylesheet';
    let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
    // Dark / light mode switch
    window.quartoToggleColorScheme = () => {
      // Read the current dark / light value
      let toAlternate = !hasAlternateSentinel();
      toggleColorMode(toAlternate);
      setStyleSentinel(toAlternate);
      toggleGiscusIfUsed(toAlternate, darkModeDefault);
      window.dispatchEvent(new Event('resize'));
    };
    // Switch to dark mode if need be
    if (hasAlternateSentinel()) {
      toggleColorMode(true);
    } else {
      toggleColorMode(false);
    }
  </script>

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="https://turinglang.org/" class="navbar-brand navbar-brand-logo">
    <img src="../../assets/images/turing-logo.svg" alt="" class="navbar-logo">
    </a>
    <a class="navbar-brand" href="https://turinglang.org/">
    <span class="navbar-title">Turing.jl</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../getting-started/"> 
<span class="menu-text">Get Started</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../tutorials/coin-flipping/"> 
<span class="menu-text">Tutorials</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://turinglang.org/library/"> 
<span class="menu-text">Libraries</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://turinglang.org/news/"> 
<span class="menu-text">News</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://turinglang.org/team/"> 
<span class="menu-text">Team</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-v0.38" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">v0.38</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-v0.38">    
        <li>
    <a class="dropdown-item" href="https://turinglang.org/docs/changelog.html">
 <span class="dropdown-text">Changelog</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://turinglang.org/docs/versions.html">
 <span class="dropdown-text">All Versions</span></a>
  </li>  
    </ul>
  </li>
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools tools-wide">
    <a href="https://x.com/TuringLang" title="Turing Twitter" class="quarto-navigation-tool px-1" aria-label="Turing Twitter"><i class="bi bi-twitter"></i></a>
    <a href="https://github.com/TuringLang/Turing.jl" title="Turing GitHub" class="quarto-navigation-tool px-1" aria-label="Turing GitHub"><i class="bi bi-github"></i></a>
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../../usage/automatic-differentiation/index.html">User Guide</a></li><li class="breadcrumb-item"><a href="../../usage/tracking-extra-quantities/index.html">Tracking Extra Quantities</a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../getting-started/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Getting Started</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../core-functionality/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Core Functionality</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">User Guide</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../usage/automatic-differentiation/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Automatic Differentiation</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../usage/custom-distribution/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Custom Distributions</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../usage/probability-interface/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Querying Model Probabilities</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../usage/modifying-logprob/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Modifying the Log Probability</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../usage/tracking-extra-quantities/index.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Tracking Extra Quantities</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../usage/mode-estimation/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Mode Estimation</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../usage/performance-tips/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Performance Tips</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../usage/sampler-visualisation/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Sampler Visualization</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../usage/dynamichmc/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Using DynamicHMC</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../usage/external-samplers/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Using External Samplers</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="false">
 <span class="menu-text">Tutorials</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../tutorials/coin-flipping/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Introduction: Coin Flipping</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../tutorials/gaussian-mixture-models/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Gaussian Mixture Models</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../tutorials/bayesian-logistic-regression/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Bayesian Logistic Regression</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../tutorials/bayesian-neural-networks/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Bayesian Neural Networks</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../tutorials/hidden-markov-models/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Hidden Markov Models</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../tutorials/bayesian-linear-regression/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Bayesian Linear Regression</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../tutorials/infinite-mixture-models/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Infinite Mixture Models</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../tutorials/bayesian-poisson-regression/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Bayesian Poisson Regression</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../tutorials/multinomial-logistic-regression/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Multinomial Logistic Regression</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../tutorials/variational-inference/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Variational Inference</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../tutorials/bayesian-differential-equations/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Bayesian Differential Equations</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../tutorials/probabilistic-pca/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Probabilistic PCA</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../tutorials/bayesian-time-series-analysis/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Bayesian Time Series Analysis</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../tutorials/gaussian-processes-introduction/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Gaussian Processes: Introduction</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../tutorials/gaussian-process-latent-variable-models/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Gaussian Process Latent Variable Models</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="false">
 <span class="menu-text">Developers</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../developers/contributing/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Contributing</span></a>
  </div>
</li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="false">
 <span class="menu-text">DynamicPPLâ€™s Compiler</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../developers/compiler/model-manual/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Manually Defining a Model</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../developers/compiler/minituring-compiler/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">A Mini Turing Implementation I: Compiler</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../developers/compiler/minituring-contexts/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">A Mini Turing Implementation II: Contexts</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../developers/compiler/design-overview/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Turing Compiler Design (Outdated)</span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="false">
 <span class="menu-text">Variable Transformations</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../developers/transforms/distributions/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Distributions and the Jacobian</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../developers/transforms/bijectors/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Bijectors in MCMC</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../developers/transforms/dynamicppl/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Variable transformations in DynamicPPL</span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="false">
 <span class="menu-text">Inference (note: outdated)</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../developers/inference/abstractmcmc-interface/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Interface Guide</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../developers/inference/abstractmcmc-turing/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">How Turing Implements AbstractMCMC</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../developers/inference/variational-inference/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Variational Inference</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../developers/inference/implementing-samplers/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Implementing Samplers</span></a>
  </div>
</li>
      </ul>
  </li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of Contents</h2>
   
  <ul>
  <li><a href="#using-during-inference" id="toc-using-during-inference" class="nav-link active" data-scroll-target="#using-during-inference">Using <code>:=</code> (during inference)</a></li>
  <li><a href="#using-returned-post-inference" id="toc-using-returned-post-inference" class="nav-link" data-scroll-target="#using-returned-post-inference">Using <code>returned</code> (post-inference)</a></li>
  <li><a href="#which-to-use" id="toc-which-to-use" class="nav-link" data-scroll-target="#which-to-use">Which to use?</a></li>
  </ul>
<div class="toc-actions"><ul><li><a href="https://github.com/TuringLang/docs/edit/main/usage/tracking-extra-quantities/index.qmd" target="_blank" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/TuringLang/docs/issues/new" target="_blank" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">


<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../../usage/automatic-differentiation/index.html">User Guide</a></li><li class="breadcrumb-item"><a href="../../usage/tracking-extra-quantities/index.html">Tracking Extra Quantities</a></li></ol></nav>
<div class="quarto-title">
<h1 class="title">Tracking Extra Quantities</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p>Often, there are quantities in models that we might be interested in viewing the values of, but which are not random variables in the model that are explicitly drawn from a distribution.</p>
<p>As a motivating example, the most natural parameterization for a model might not the most computationally feasible. Consider the following (efficiently reparametrized) implementation of Nealâ€™s funnel <a href="https://arxiv.org/abs/physics/0009028">(Neal, 2003)</a>:</p>
<div id="4" class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">using</span> <span class="bu">Turing</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">setprogress!</span>(<span class="cn">false</span>)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="pp">@model</span> <span class="kw">function</span> <span class="fu">Neal</span>()</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Raw draws</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>    y_raw <span class="op">~</span> <span class="fu">Normal</span>(<span class="fl">0</span>, <span class="fl">1</span>)</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>    x_raw <span class="op">~</span> <span class="fu">arraydist</span>([<span class="fu">Normal</span>(<span class="fl">0</span>, <span class="fl">1</span>) for i <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="fl">9</span>])</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Transform:</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>    y <span class="op">=</span> <span class="fl">3</span> <span class="op">*</span> y_raw</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>    x <span class="op">=</span> <span class="fu">exp</span>.(y <span class="op">./</span> <span class="fl">2</span>) <span class="op">.*</span> x_raw</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="cn">nothing</span></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<div class="ansi-escaped-output">
<pre><span class="ansi-cyan-fg ansi-bold">[ </span><span class="ansi-cyan-fg ansi-bold">Info: </span>[Turing]: progress logging is disabled globally
<span class="ansi-cyan-fg ansi-bold">[ </span><span class="ansi-cyan-fg ansi-bold">Info: </span>[AdvancedVI]: global PROGRESS is set as false
</pre>
</div>
</div>
<div class="cell-output cell-output-display" data-execution_count="1">
<pre><code>Neal (generic function with 2 methods)</code></pre>
</div>
</div>
<p>In this case, the random variables exposed in the chain (<code>x_raw</code>, <code>y_raw</code>) are not in a helpful form â€” what weâ€™re after are the deterministically transformed variables <code>x</code> and <code>y</code>.</p>
<p>There are two ways to track these extra quantities in Turing.jl.</p>
<section id="using-during-inference" class="level2">
<h2 class="anchored" data-anchor-id="using-during-inference">Using <code>:=</code> (during inference)</h2>
<p>The first way is to use the <code>:=</code> operator, which behaves exactly like <code>=</code> except that the values of the variables on its left-hand side are automatically added to the chain returned by the sampler. For example:</p>
<div id="6" class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="pp">@model</span> <span class="kw">function</span> <span class="fu">Neal_coloneq</span>()</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Raw draws</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>    y_raw <span class="op">~</span> <span class="fu">Normal</span>(<span class="fl">0</span>, <span class="fl">1</span>)</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>    x_raw <span class="op">~</span> <span class="fu">arraydist</span>([<span class="fu">Normal</span>(<span class="fl">0</span>, <span class="fl">1</span>) for i <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="fl">9</span>])</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Transform:</span></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>    y <span class="op">:=</span> <span class="fl">3</span> <span class="op">*</span> y_raw</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>    x <span class="op">:=</span> <span class="fu">exp</span>.(y <span class="op">./</span> <span class="fl">2</span>) <span class="op">.*</span> x_raw</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a><span class="fu">sample</span>(<span class="fu">Neal_coloneq</span>(), <span class="fu">NUTS</span>(), <span class="fl">1000</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<div class="ansi-escaped-output">
<pre><span class="ansi-cyan-fg ansi-bold">â”Œ </span><span class="ansi-cyan-fg ansi-bold">Info: </span>Found initial step size
<span class="ansi-cyan-fg ansi-bold">â”” </span>  Ïµ = 1.6
</pre>
</div>
</div>
<div class="cell-output cell-output-display" data-execution_count="1">
<div class="ansi-escaped-output">
<pre>Chains MCMC chain (1000Ã—32Ã—1 Array{Float64, 3}):

Iterations        = 501:1:1500
Number of chains  = 1
Samples per chain = 1000
Wall duration     = 7.15 seconds
Compute duration  = 7.15 seconds
parameters        = y_raw, x_raw[1], x_raw[2], x_raw[3], x_raw[4], x_raw[5], x_raw[6], x_raw[7], x_raw[8], x_raw[9], y, x[1], x[2], x[3], x[4], x[5], x[6], x[7], x[8], x[9]
internals         = lp, n_steps, is_accept, acceptance_rate, log_density, hamiltonian_energy, hamiltonian_energy_error, max_hamiltonian_energy_error, tree_depth, numerical_error, step_size, nom_step_size

Summary Statistics
 <span class="ansi-bold"> parameters  </span><span class="ansi-bold">    mean  </span><span class="ansi-bold">     std  </span><span class="ansi-bold">    mcse  </span><span class="ansi-bold">  ess_bulk  </span><span class="ansi-bold"> ess_tail  </span><span class="ansi-bold">    rhat  </span><span class="ansi-bold">  â‹¯
 </span><span class="ansi-bright-black-fg ansi-bold">     Symbol  </span><span class="ansi-bright-black-fg ansi-bold"> Float64  </span><span class="ansi-bright-black-fg ansi-bold"> Float64  </span><span class="ansi-bright-black-fg ansi-bold"> Float64  </span><span class="ansi-bright-black-fg ansi-bold">   Float64  </span><span class="ansi-bright-black-fg ansi-bold">  Float64  </span><span class="ansi-bright-black-fg ansi-bold"> Float64  </span><span class="ansi-bright-black-fg ansi-bold">  â‹¯

       y_raw    0.0184    1.0069    0.0275   1343.6105   554.0173    1.0026    â‹¯
    x_raw[1]    0.0159    0.9626    0.0302   1022.5080   693.7327    1.0009    â‹¯
    x_raw[2]   -0.0131    1.0007    0.0245   1645.0362   754.2693    1.0021    â‹¯
    x_raw[3]   -0.0124    1.0397    0.0262   1582.8382   654.9136    1.0015    â‹¯
    x_raw[4]    0.0023    0.9886    0.0241   1671.6875   906.1256    1.0014    â‹¯
    x_raw[5]    0.0075    0.9721    0.0293   1100.6861   837.9152    0.9993    â‹¯
    x_raw[6]   -0.0612    1.0206    0.0345    875.9348   592.2541    1.0001    â‹¯
    x_raw[7]   -0.0229    0.9572    0.0284   1133.0373   689.4901    1.0020    â‹¯
    x_raw[8]    0.0281    0.9911    0.0276   1290.5154   866.8385    1.0002    â‹¯
    x_raw[9]   -0.0306    0.9725    0.0304   1035.1579   633.1539    0.9991    â‹¯
           y    0.0552    3.0206    0.0826   1343.6105   554.0173    1.0026    â‹¯
        x[1]    0.0335    6.8561    0.2184    980.5502   874.3368    0.9996    â‹¯
        x[2]   -0.5305    7.3633    0.2625   1217.2957   850.2053    1.0010    â‹¯
        x[3]    0.2994    6.4123    0.2259   1132.8001   842.7605    1.0003    â‹¯
        x[4]    0.2695    7.6289    0.2549   1025.2965   809.9495    1.0005    â‹¯
        x[5]   -0.1615    6.1697    0.2282    903.8574   673.8774    0.9996    â‹¯
        x[6]   -0.1687    7.0629    0.2512    790.3433   798.1462    0.9999    â‹¯
      â‹®           â‹®         â‹®         â‹®          â‹®          â‹®          â‹®       â‹±
</span><span class="ansi-cyan-fg ansi-bold">                                                     1 column and 3 rows omitted

Quantiles
 </span><span class="ansi-cyan-fg ansi-bold"> parameters  </span><span class="ansi-cyan-fg ansi-bold">     2.5%  </span><span class="ansi-cyan-fg ansi-bold">   25.0%  </span><span class="ansi-cyan-fg ansi-bold">   50.0%  </span><span class="ansi-cyan-fg ansi-bold">   75.0%  </span><span class="ansi-cyan-fg ansi-bold">   97.5%
 </span><span class="ansi-bright-black-fg ansi-bold">     Symbol  </span><span class="ansi-bright-black-fg ansi-bold">  Float64  </span><span class="ansi-bright-black-fg ansi-bold"> Float64  </span><span class="ansi-bright-black-fg ansi-bold"> Float64  </span><span class="ansi-bright-black-fg ansi-bold"> Float64  </span><span class="ansi-bright-black-fg ansi-bold"> Float64

       y_raw    -1.9100   -0.7099    0.0335    0.6766    1.9480
    x_raw[1]    -1.7868   -0.6713    0.0320    0.6512    1.9294
    x_raw[2]    -1.9886   -0.7040   -0.0192    0.6639    2.0273
    x_raw[3]    -2.0607   -0.7174   -0.0290    0.6899    2.0129
    x_raw[4]    -1.8272   -0.6809   -0.0067    0.6517    2.0094
    x_raw[5]    -1.9364   -0.6666    0.0352    0.6568    1.8245
    x_raw[6]    -2.0744   -0.7769   -0.0128    0.5999    1.8655
    x_raw[7]    -1.8230   -0.6629   -0.0385    0.6492    1.8862
    x_raw[8]    -1.8313   -0.6522    0.0184    0.7389    1.8514
    x_raw[9]    -1.7270   -0.7342   -0.0773    0.6352    1.8176
           y    -5.7301   -2.1296    0.1005    2.0299    5.8440
        x[1]    -9.4995   -0.5308    0.0098    0.6295   10.2913
        x[2]   -13.5774   -0.6121   -0.0082    0.5736    7.6005
        x[3]    -9.0227   -0.5512   -0.0114    0.7220   10.3459
        x[4]    -8.9229   -0.5444   -0.0014    0.5752    9.3830
        x[5]   -10.1665   -0.5699    0.0087    0.5631    8.1780
        x[6]   -11.8500   -0.6115   -0.0046    0.6270    8.2542
      â‹®           â‹®          â‹®         â‹®         â‹®         â‹®
</span><span class="ansi-cyan-fg ansi-bold">                                                   3 rows omitted
</span></pre>
</div>
</div>
</div>
</section>
<section id="using-returned-post-inference" class="level2">
<h2 class="anchored" data-anchor-id="using-returned-post-inference">Using <code>returned</code> (post-inference)</h2>
<p>Alternatively, one can specify the extra quantities as part of the model functionâ€™s return statement:</p>
<div id="8" class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="pp">@model</span> <span class="kw">function</span> <span class="fu">Neal_return</span>()</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Raw draws</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>    y_raw <span class="op">~</span> <span class="fu">Normal</span>(<span class="fl">0</span>, <span class="fl">1</span>)</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>    x_raw <span class="op">~</span> <span class="fu">arraydist</span>([<span class="fu">Normal</span>(<span class="fl">0</span>, <span class="fl">1</span>) for i <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="fl">9</span>])</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Transform and return as a NamedTuple</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>    y <span class="op">=</span> <span class="fl">3</span> <span class="op">*</span> y_raw</span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>    x <span class="op">=</span> <span class="fu">exp</span>.(y <span class="op">./</span> <span class="fl">2</span>) <span class="op">.*</span> x_raw</span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> (x<span class="op">=</span>x, y<span class="op">=</span>y)</span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a>chain <span class="op">=</span> <span class="fu">sample</span>(<span class="fu">Neal_return</span>(), <span class="fu">NUTS</span>(), <span class="fl">1000</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<div class="ansi-escaped-output">
<pre><span class="ansi-cyan-fg ansi-bold">â”Œ </span><span class="ansi-cyan-fg ansi-bold">Info: </span>Found initial step size
<span class="ansi-cyan-fg ansi-bold">â”” </span>  Ïµ = 1.6
</pre>
</div>
</div>
<div class="cell-output cell-output-display" data-execution_count="1">
<div class="ansi-escaped-output">
<pre>Chains MCMC chain (1000Ã—22Ã—1 Array{Float64, 3}):

Iterations        = 501:1:1500
Number of chains  = 1
Samples per chain = 1000
Wall duration     = 1.57 seconds
Compute duration  = 1.57 seconds
parameters        = y_raw, x_raw[1], x_raw[2], x_raw[3], x_raw[4], x_raw[5], x_raw[6], x_raw[7], x_raw[8], x_raw[9]
internals         = lp, n_steps, is_accept, acceptance_rate, log_density, hamiltonian_energy, hamiltonian_energy_error, max_hamiltonian_energy_error, tree_depth, numerical_error, step_size, nom_step_size

Summary Statistics
 <span class="ansi-bold"> parameters  </span><span class="ansi-bold">    mean  </span><span class="ansi-bold">     std  </span><span class="ansi-bold">    mcse  </span><span class="ansi-bold">  ess_bulk  </span><span class="ansi-bold"> ess_tail  </span><span class="ansi-bold">    rhat  </span><span class="ansi-bold">  â‹¯
 </span><span class="ansi-bright-black-fg ansi-bold">     Symbol  </span><span class="ansi-bright-black-fg ansi-bold"> Float64  </span><span class="ansi-bright-black-fg ansi-bold"> Float64  </span><span class="ansi-bright-black-fg ansi-bold"> Float64  </span><span class="ansi-bright-black-fg ansi-bold">   Float64  </span><span class="ansi-bright-black-fg ansi-bold">  Float64  </span><span class="ansi-bright-black-fg ansi-bold"> Float64  </span><span class="ansi-bright-black-fg ansi-bold">  â‹¯

       y_raw   -0.0336    1.0174    0.0233   1910.7237   766.6262    0.9998    â‹¯
    x_raw[1]    0.0463    0.9861    0.0275   1303.0786   579.3981    0.9995    â‹¯
    x_raw[2]   -0.0093    0.9621    0.0227   1796.6947   788.7053    0.9995    â‹¯
    x_raw[3]   -0.0258    0.9974    0.0238   1753.2258   736.1315    0.9992    â‹¯
    x_raw[4]   -0.0168    0.9692    0.0195   2470.2387   842.7230    1.0003    â‹¯
    x_raw[5]    0.0217    1.0108    0.0238   1821.0360   696.1919    1.0091    â‹¯
    x_raw[6]   -0.0195    0.9797    0.0290   1148.1846   655.2434    0.9999    â‹¯
    x_raw[7]   -0.0188    1.0392    0.0250   1734.0697   742.6619    0.9990    â‹¯
    x_raw[8]    0.0138    1.0102    0.0276   1330.7530   698.4040    0.9991    â‹¯
    x_raw[9]   -0.0098    0.9956    0.0243   1682.6378   833.4506    1.0057    â‹¯
</span><span class="ansi-cyan-fg ansi-bold">                                                                1 column omitted

Quantiles
 </span><span class="ansi-cyan-fg ansi-bold"> parameters  </span><span class="ansi-cyan-fg ansi-bold">    2.5%  </span><span class="ansi-cyan-fg ansi-bold">   25.0%  </span><span class="ansi-cyan-fg ansi-bold">   50.0%  </span><span class="ansi-cyan-fg ansi-bold">   75.0%  </span><span class="ansi-cyan-fg ansi-bold">   97.5%
 </span><span class="ansi-bright-black-fg ansi-bold">     Symbol  </span><span class="ansi-bright-black-fg ansi-bold"> Float64  </span><span class="ansi-bright-black-fg ansi-bold"> Float64  </span><span class="ansi-bright-black-fg ansi-bold"> Float64  </span><span class="ansi-bright-black-fg ansi-bold"> Float64  </span><span class="ansi-bright-black-fg ansi-bold"> Float64

       y_raw   -2.0234   -0.7258   -0.0281    0.6174    1.9239
    x_raw[1]   -1.8583   -0.6286   -0.0022    0.6825    2.0882
    x_raw[2]   -1.9101   -0.6034    0.0131    0.6052    1.9129
    x_raw[3]   -1.9222   -0.6856    0.0075    0.6392    1.9042
    x_raw[4]   -1.9906   -0.6369   -0.0114    0.6279    1.8688
    x_raw[5]   -1.9395   -0.6697    0.0450    0.7327    1.7836
    x_raw[6]   -1.9010   -0.7058   -0.0439    0.6477    1.9138
    x_raw[7]   -2.0892   -0.7115    0.0108    0.6446    1.9990
    x_raw[8]   -2.0037   -0.6105    0.0322    0.6612    2.0144
    x_raw[9]   -1.9642   -0.6877    0.0112    0.6727    1.8512
</span></pre>
</div>
</div>
</div>
<p>The sampled chain does not contain <code>x</code> and <code>y</code>, but we can extract the values using the <code>returned</code> function. Calling this function outputs an array:</p>
<div id="10" class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>nts <span class="op">=</span> <span class="fu">returned</span>(<span class="fu">Neal_return</span>(), chain)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="1">
<pre><code>1000Ã—1 Matrix{@NamedTuple{x::Vector{Float64}, y::Float64}}:
 (x = [-0.07186003595706475, -0.0861853532252704, -0.12072521453964445, -0.1082226121285815, 0.09073943018882949, -0.20421313958486007, 0.05760337101648906, 0.24092003125941996, -0.3359937936701525], y = -2.5594143437833776)
 (x = [-0.07186003595706475, -0.0861853532252704, -0.12072521453964445, -0.1082226121285815, 0.09073943018882949, -0.20421313958486007, 0.05760337101648906, 0.24092003125941996, -0.3359937936701525], y = -2.5594143437833776)
 (x = [0.5289756177723957, -0.11122206919384565, 0.4226494605836343, -0.11904782627468555, 0.5569901276505465, 2.563318683332549, -1.8187617930059425, -1.19387802964357, 1.5336668239374343], y = 0.5617597264135546)
 (x = [-0.11710055466970587, 0.18095145729667395, -0.1702417342198823, -0.13025570469960532, -0.11167558736613277, -0.4775286784930996, 0.5292561526678738, 0.3902378362512551, -0.47360182835957415], y = -1.773363466125895)
 (x = [-0.11710055466970587, 0.18095145729667395, -0.1702417342198823, -0.13025570469960532, -0.11167558736613277, -0.4775286784930996, 0.5292561526678738, 0.3902378362512551, -0.47360182835957415], y = -1.773363466125895)
 (x = [-0.11710055466970587, 0.18095145729667395, -0.1702417342198823, -0.13025570469960532, -0.11167558736613277, -0.4775286784930996, 0.5292561526678738, 0.3902378362512551, -0.47360182835957415], y = -1.773363466125895)
 (x = [0.22049214908849815, -0.036918136461880836, 0.07661980508484359, -0.24930470884351122, -0.21333083464627076, 0.18601309590040374, -0.05750803339817475, -0.21308258993208015, 0.2462880533859646], y = -3.1237834383096263)
 (x = [0.8884010852477541, -0.01722102812382484, -0.07436871020383178, -0.9387248712911164, 0.5471793191498499, 1.7292073644982504, -1.25886951803645, 1.6134617460767768, -0.41635295976704084], y = 1.1222336961699986)
 (x = [0.06687964097162433, 0.28690728162435986, 0.029991757766772573, -0.0442327587274252, -0.41735045496233336, 0.1214342438955086, 0.07377524570366215, 0.18751245272776504, -0.23354253840236122], y = -3.6167324066935294)
 (x = [0.11571215414239898, -1.0042732459856483, -0.21706859024871514, -0.3306329427938119, 2.272047123895233, -0.28140738846564667, -0.2621513429364175, -1.0746766899795042, 1.3218910169684353], y = -0.24332729956787746)
 â‹®
 (x = [0.15584335401084332, -1.5904262189607754, -4.462427742016065, -0.4691265462257178, 2.3213669046234133, 0.3633231257610476, -1.7108697075680255, 0.3070288638162303, 1.3280090252174597], y = 1.3029071074345286)
 (x = [-0.34288905997672403, 0.09079681665763634, 1.1233282103623574, -0.16400194978557306, -0.2265639163689014, 1.2356411643662726, 0.9943589966096009, -0.2041307525749005, 0.8646612304021987], y = -0.9222658563268502)
 (x = [0.7822384257710715, -0.1523231029331181, -1.2312159416153465, -0.0014663388319530626, 0.5113232613766064, -1.0067160082767341, -0.43346306216078984, 0.22959810937327935, -0.9084153884969908], y = -0.8056823795812544)
 (x = [0.4993840849125912, 0.07907490936529989, -0.7870628182982355, 0.9007345064823085, 0.45146335484641126, -0.16728396425391914, -0.5292006655738749, 0.9129785863396391, 0.3198387695369223], y = -1.6987128082593645)
 (x = [9.042796741519473, -2.5288485868759136, 5.97437561124198, -5.855725890109285, -3.921147732006982, -0.5906345584208074, 2.924908894024931, -10.216589706522658, 1.8078010661240085], y = 2.9948486336820137)
 (x = [-0.17087464591642698, -0.02856843079250498, -0.20646445918457115, 0.2159557116063529, 0.02637364600077321, -0.43577908593759934, -0.17998321963310054, 0.092308290874372, -0.13617176463827477], y = -3.6823909277997564)
 (x = [-3.668141251187344, -0.050738862085499305, -1.1694604270674722, -6.336431183154603, -0.9828866468434664, -4.037824834263912, -0.28034369122365743, -3.0294073829938437, -2.606158417732563], y = 1.618919001383014)
 (x = [1.2450079020727076, 0.18733097009105779, 0.3163337137820869, 0.8217666092526932, -0.17506168500972694, 0.8651722490206304, 0.025639753401957916, 0.7418635675102184, 0.6174692528928524], y = -1.3196991448398638)
 (x = [-0.795495320000132, -0.11385162264190746, -0.5046498199981506, -0.47635676218539136, 0.44237722099238513, -0.3629554131042059, -0.24271607667623135, -0.676350961724002, -0.6534327925833308], y = -1.1814732569492983)</code></pre>
</div>
</div>
<p>where each element of which is a NamedTuple, as specified in the return statement of the model.</p>
<div id="12" class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>nts[<span class="fl">1</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="1">
<pre><code>(x = [-0.07186003595706475, -0.0861853532252704, -0.12072521453964445, -0.1082226121285815, 0.09073943018882949, -0.20421313958486007, 0.05760337101648906, 0.24092003125941996, -0.3359937936701525], y = -2.5594143437833776)</code></pre>
</div>
</div>
</section>
<section id="which-to-use" class="level2">
<h2 class="anchored" data-anchor-id="which-to-use">Which to use?</h2>
<p>There are some pros and cons of using <code>returned</code>, as opposed to <code>:=</code>.</p>
<p>Firstly, <code>returned</code> is more flexible, as it allows you to track any type of object; <code>:=</code> only works with variables that can be inserted into an <code>MCMCChains.Chains</code> object. (Notice that <code>x</code> is a vector, and in the first case where we used <code>:=</code>, reconstructing the vector value of <code>x</code> can also be rather annoying as the chain stores each individual element of <code>x</code> separately.)</p>
<p>However, if used carelessly, <code>returned</code> can lead to unnecessary computation. For example, in <code>Neal_return()</code> above, the <code>x</code> and <code>y</code> variables are also calculated during the inference process (i.e.&nbsp;the call to <code>sample()</code>), but are then thrown away. They are then calculated <em>again</em> when <code>returned()</code> is called.</p>
<p>To avoid this, you will essentially have to create two different models, one for inference and one for post-inference. The simplest way of doing this is to add a parameter to the model argument:</p>
<div id="14" class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="pp">@model</span> <span class="kw">function</span> <span class="fu">Neal_coloneq_optional</span>(track<span class="op">::</span><span class="dt">Bool</span>)</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Raw draws</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>    y_raw <span class="op">~</span> <span class="fu">Normal</span>(<span class="fl">0</span>, <span class="fl">1</span>)</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>    x_raw <span class="op">~</span> <span class="fu">arraydist</span>([<span class="fu">Normal</span>(<span class="fl">0</span>, <span class="fl">1</span>) for i <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="fl">9</span>])</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> track</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>        y <span class="op">=</span> <span class="fl">3</span> <span class="op">*</span> y_raw</span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>        x <span class="op">=</span> <span class="fu">exp</span>.(y <span class="op">./</span> <span class="fl">2</span>) <span class="op">.*</span> x_raw</span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> (x<span class="op">=</span>x, y<span class="op">=</span>y)</span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span></span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="cn">nothing</span></span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a>    <span class="cf">end</span></span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a>chain <span class="op">=</span> <span class="fu">sample</span>(<span class="fu">Neal_coloneq_optional</span>(<span class="cn">false</span>), <span class="fu">NUTS</span>(), <span class="fl">1000</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<div class="ansi-escaped-output">
<pre><span class="ansi-cyan-fg ansi-bold">â”Œ </span><span class="ansi-cyan-fg ansi-bold">Info: </span>Found initial step size
<span class="ansi-cyan-fg ansi-bold">â”” </span>  Ïµ = 2.6000000000000005
</pre>
</div>
</div>
<div class="cell-output cell-output-display" data-execution_count="1">
<div class="ansi-escaped-output">
<pre>Chains MCMC chain (1000Ã—22Ã—1 Array{Float64, 3}):

Iterations        = 501:1:1500
Number of chains  = 1
Samples per chain = 1000
Wall duration     = 1.64 seconds
Compute duration  = 1.64 seconds
parameters        = y_raw, x_raw[1], x_raw[2], x_raw[3], x_raw[4], x_raw[5], x_raw[6], x_raw[7], x_raw[8], x_raw[9]
internals         = lp, n_steps, is_accept, acceptance_rate, log_density, hamiltonian_energy, hamiltonian_energy_error, max_hamiltonian_energy_error, tree_depth, numerical_error, step_size, nom_step_size

Summary Statistics
 <span class="ansi-bold"> parameters  </span><span class="ansi-bold">    mean  </span><span class="ansi-bold">     std  </span><span class="ansi-bold">    mcse  </span><span class="ansi-bold">  ess_bulk  </span><span class="ansi-bold"> ess_tail  </span><span class="ansi-bold">    rhat  </span><span class="ansi-bold">  â‹¯
 </span><span class="ansi-bright-black-fg ansi-bold">     Symbol  </span><span class="ansi-bright-black-fg ansi-bold"> Float64  </span><span class="ansi-bright-black-fg ansi-bold"> Float64  </span><span class="ansi-bright-black-fg ansi-bold"> Float64  </span><span class="ansi-bright-black-fg ansi-bold">   Float64  </span><span class="ansi-bright-black-fg ansi-bold">  Float64  </span><span class="ansi-bright-black-fg ansi-bold"> Float64  </span><span class="ansi-bright-black-fg ansi-bold">  â‹¯

       y_raw   -0.0434    0.9984    0.0366    744.1742   715.2958    1.0013    â‹¯
    x_raw[1]    0.0504    1.0312    0.0297   1208.7998   743.7114    1.0008    â‹¯
    x_raw[2]   -0.0189    0.9865    0.0273   1303.3994   560.2939    1.0007    â‹¯
    x_raw[3]    0.0195    0.9542    0.0270   1239.7754   868.4614    1.0018    â‹¯
    x_raw[4]   -0.0254    0.9850    0.0265   1381.2714   908.2495    0.9991    â‹¯
    x_raw[5]   -0.0129    1.0132    0.0274   1445.2102   694.7157    1.0001    â‹¯
    x_raw[6]   -0.0136    1.0240    0.0298   1183.0916   623.8066    1.0004    â‹¯
    x_raw[7]   -0.0295    1.0170    0.0315   1047.0882   758.9332    1.0019    â‹¯
    x_raw[8]   -0.0041    1.0294    0.0309   1097.3524   698.9634    1.0013    â‹¯
    x_raw[9]   -0.0052    0.9961    0.0320    979.2597   744.6307    0.9995    â‹¯
</span><span class="ansi-cyan-fg ansi-bold">                                                                1 column omitted

Quantiles
 </span><span class="ansi-cyan-fg ansi-bold"> parameters  </span><span class="ansi-cyan-fg ansi-bold">    2.5%  </span><span class="ansi-cyan-fg ansi-bold">   25.0%  </span><span class="ansi-cyan-fg ansi-bold">   50.0%  </span><span class="ansi-cyan-fg ansi-bold">   75.0%  </span><span class="ansi-cyan-fg ansi-bold">   97.5%
 </span><span class="ansi-bright-black-fg ansi-bold">     Symbol  </span><span class="ansi-bright-black-fg ansi-bold"> Float64  </span><span class="ansi-bright-black-fg ansi-bold"> Float64  </span><span class="ansi-bright-black-fg ansi-bold"> Float64  </span><span class="ansi-bright-black-fg ansi-bold"> Float64  </span><span class="ansi-bright-black-fg ansi-bold"> Float64

       y_raw   -2.0159   -0.6875   -0.0305    0.5558    1.8754
    x_raw[1]   -1.9296   -0.6545    0.0151    0.7445    2.0767
    x_raw[2]   -1.8652   -0.6814   -0.0241    0.7050    1.9440
    x_raw[3]   -1.9094   -0.6217    0.0367    0.7062    1.7962
    x_raw[4]   -1.9489   -0.6953   -0.0318    0.6505    1.8963
    x_raw[5]   -2.0723   -0.6798   -0.0200    0.6419    2.0432
    x_raw[6]   -2.0117   -0.7137   -0.0026    0.6903    1.9221
    x_raw[7]   -1.9257   -0.7389   -0.0260    0.6583    2.0146
    x_raw[8]   -1.9630   -0.6813   -0.0394    0.7034    1.9768
    x_raw[9]   -1.9047   -0.6797   -0.0265    0.6713    1.9483
</span></pre>
</div>
</div>
</div>
<p>The above ensures that <code>x</code> and <code>y</code> are not calculated during inference, but allows us to still use <code>returned</code> to extract them:</p>
<div id="16" class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">returned</span>(<span class="fu">Neal_coloneq_optional</span>(<span class="cn">true</span>), chain)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="1">
<pre><code>1000Ã—1 Matrix{@NamedTuple{x::Vector{Float64}, y::Float64}}:
 (x = [-0.04949957163391853, 0.010978340870505547, 0.095037860564283, 0.0664939756560261, -0.05614459622665385, 0.01102124886675899, 0.2188736769383319, 0.16423606582417172, -0.13646340543430646], y = -4.428876897995791)
 (x = [0.20952216949779925, 0.5882637181267839, -0.3173491828893489, 1.484915540323349, -0.6005233192311364, -0.06783400986564413, -0.33787532275040905, 0.8285595255480144, 0.3449262850530194], y = -0.4221120372526984)
 (x = [0.040519601463477654, 0.0508420301610784, 0.027147013357453547, 0.468612348100558, -0.04775733286692238, -0.033612844721880614, 0.06957273793602875, 0.07852663081303697, 0.19985591154822588], y = -2.753635980253158)
 (x = [-1.9098241375069185, 3.98134336174859, -1.1552947678654522, 0.9296229269243428, -0.6675777827799532, -5.7573315259122, -2.288150618877465, -2.087152024432048, 8.41743924169181], y = 2.833455070685951)
 (x = [-0.4269825600023228, -0.14967544054254603, 0.30482836035669125, -0.1973677144594655, 0.09546380791307132, -0.26207550177180683, -0.2655788615964842, -0.16858216058973577, 0.34682820864453623], y = -2.4545327831583212)
 (x = [-0.4269825600023228, -0.14967544054254603, 0.30482836035669125, -0.1973677144594655, 0.09546380791307132, -0.26207550177180683, -0.2655788615964842, -0.16858216058973577, 0.34682820864453623], y = -2.4545327831583212)
 (x = [-3.3866608164498984, -1.7488435328876633, -8.009391246082325, 2.456303362849591, 3.1976414523420056, -4.3500572529044925, 11.507724404008655, 0.21343342676967897, 1.8628008613135472], y = 2.7077449936379696)
 (x = [1.2786471321749324, -0.5917836211070345, -1.673216787755838, 0.22440344733806367, -1.5110004774547432, -0.7226510447081772, -0.8750655411028455, -0.13868946588511583, -0.2998347143190806], y = -0.5666134026361038)
 (x = [-0.8012879716257495, -0.007951918930777133, 0.14580633157259024, 0.8474179325526682, -0.056571031813933435, 0.07431249399426974, 0.16214976631925868, 0.11405843256172525, -0.4092647110811388], y = -2.259740182832526)
 (x = [1.3856894999427178, -0.3444435095619372, -0.34704905916612283, -0.9887607458892151, 0.050237459174019734, -0.17605036031557872, 0.6271166675256108, -0.16709481224748698, 0.7788943082545593], y = -1.370740201532627)
 â‹®
 (x = [-1.2219036989610164, -0.304320229490407, 2.1016946342310705, 0.18127075963286313, -2.122855760677686, 2.2963775768756918, -2.048717778923458, 1.2089023426434669, -2.100456641098809], y = 0.824870303711557)
 (x = [0.013222062378807001, -0.05252541787509658, -0.8537365526168728, -0.27795779485855127, 1.0150775225761337, -1.0228091426446448, 0.8844882992079387, -0.6220890752074423, 0.47187374714164654], y = -0.8777212732114514)
 (x = [-0.291244286302274, -0.02274504081642108, 0.1299690743017371, 1.0490847250482438, -1.6023710709667383, -0.853558883976043, 0.5552365889896467, 0.7721193599470062, 1.5253344602862606], y = 0.4782683687825528)
 (x = [-0.8841613629439747, -0.0379110683247604, -0.2464122125325406, -0.15922396070780237, -0.4359580227357686, 0.17976248001253067, 0.5650903684192611, 0.28040661247095855, 0.08823153823186251], y = -1.6157732058567584)
 (x = [3.244095542884429, 0.9736818699318979, 1.043531814573967, 2.329951346242548, 1.5342763915190538, -1.0003995211447743, -2.779764490443789, -1.7583717685432596, 0.8667531277819047], y = 1.5764236290001672)
 (x = [-0.1798242227020497, 0.19433579536608314, 1.1302409996967202, 1.0897338411046558, -2.2233040752320954, -0.06930419241393193, -2.2698715958637763, -1.242385389714844, 0.3259288098924346], y = 1.1679248397207846)
 (x = [0.6902813590266587, 0.12265416393504441, 4.1885000363182305, 0.6715379256249352, -2.1071146454333842, 1.695374899468942, 2.5603360363105763, -0.9698580191241617, 2.4409439649536977], y = 2.717610379078762)
 (x = [-0.552048592477213, 0.4403346470034421, -0.2653775503705069, 0.06263960476656226, -0.15748553842527152, -0.20219906144099964, 0.17094254713493628, 0.555777909993707, -0.0655945652332789], y = -1.8574376268854058)
 (x = [2.9244772212385253, -3.836146893959677, 1.8356803454228539, -3.2062125017868, -3.3515664037809634, 1.4301904750299195, -1.1147135481369421, -3.099630795628019, 0.362101381630365], y = 1.897754736346366)</code></pre>
</div>
</div>
<p>Another equivalent option is to use a submodel:</p>
<div id="18" class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="pp">@model</span> <span class="kw">function</span> <span class="fu">Neal</span>()</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>    y_raw <span class="op">~</span> <span class="fu">Normal</span>(<span class="fl">0</span>, <span class="fl">1</span>)</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>    x_raw <span class="op">~</span> <span class="fu">arraydist</span>([<span class="fu">Normal</span>(<span class="fl">0</span>, <span class="fl">1</span>) for i <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="fl">9</span>])</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> (x_raw<span class="op">=</span>x_raw, y_raw<span class="op">=</span>y_raw)</span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>chain <span class="op">=</span> <span class="fu">sample</span>(<span class="fu">Neal</span>(), <span class="fu">NUTS</span>(), <span class="fl">1000</span>)</span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a><span class="pp">@model</span> <span class="kw">function</span> <span class="fu">Neal_with_extras</span>()</span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a>    neal <span class="op">~</span> <span class="fu">to_submodel</span>(<span class="fu">Neal</span>(), <span class="cn">false</span>)</span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a>    y <span class="op">=</span> <span class="fl">3</span> <span class="op">*</span> neal.y_raw</span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a>    x <span class="op">=</span> <span class="fu">exp</span>.(y <span class="op">./</span> <span class="fl">2</span>) <span class="op">.*</span> neal.x_raw</span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> (x<span class="op">=</span>x, y<span class="op">=</span>y)</span>
<span id="cb12-14"><a href="#cb12-14" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span>
<span id="cb12-15"><a href="#cb12-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-16"><a href="#cb12-16" aria-hidden="true" tabindex="-1"></a><span class="fu">returned</span>(<span class="fu">Neal_with_extras</span>(), chain)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<div class="ansi-escaped-output">
<pre><span class="ansi-cyan-fg ansi-bold">â”Œ </span><span class="ansi-cyan-fg ansi-bold">Info: </span>Found initial step size
<span class="ansi-cyan-fg ansi-bold">â”” </span>  Ïµ = 1.6
</pre>
</div>
</div>
<div class="cell-output cell-output-display" data-execution_count="1">
<pre><code>1000Ã—1 Matrix{@NamedTuple{x::Vector{Float64}, y::Float64}}:
 (x = [6.991340868076116, 21.070958223995415, 3.2044498181041035, 1.5309823442358148, 2.0747582538422464, -13.327300282802243, -15.724859685474478, -3.1417091634846517, -2.238768802056653], y = 5.349931234457748)
 (x = [0.2840520235513664, -0.811409014472965, 0.20640862836731352, -0.6282521342928941, 0.09817884048839613, 0.13856846251978802, -0.0259909629141259, 0.4084974549998344, -2.0732255780796476], y = -0.26555242959559777)
 (x = [0.7476485646674883, 0.03272447618587079, 0.5988634680314638, -0.8311263228873635, 0.005164111415308789, -0.6503245968628701, 0.08412679397430912, 0.5014994487484676, 3.2369401133901228], y = 0.6587306981496961)
 (x = [-0.10395356995123875, -0.17283279843499538, -0.3645307914855865, 0.6794276607281942, 0.31543536599256095, 1.2091059711210894, 0.1864493494163241, -0.6664283706855123, -2.0600306280436587], y = -0.15923752580604209)
 (x = [-0.6692918968099076, 0.8043792533340631, 0.4548884324748307, -0.5181833629359452, -0.4197196626158769, 0.14540816216740113, 1.7558375149428431, -1.1201979251797214, 0.015829746690363862], y = -0.40737198538150643)
 (x = [1.1718521945879716, -1.2866234760022877, 0.8985345412402816, 0.9169357283675947, 0.699754858208381, 0.5399313279927966, -2.3126036043690656, 1.4938026150034838, 0.16142102161554214], y = 0.5217216763088287)
 (x = [7.632070009935281, -24.520300620507047, 5.100880911471986, 4.933488519519323, -13.442219442211243, -3.321283183348792, 3.467788984962832, 18.869789007814727, 7.898693271518127], y = 4.823197324246664)
 (x = [0.7095896370877965, -27.36504687507685, 4.384279411830956, -1.6126784743862987, -9.030848029414582, -3.01987674953298, 8.302531460528307, -32.84192074386214, -2.206964052815537], y = 5.448623413761234)
 (x = [-0.4038868678951522, -11.467919233694488, 5.530073304879844, -2.2404404855430022, -2.8686024981912746, 1.5619805224103933, -1.6944468617383766, -11.733920714202503, 3.883158663077483], y = 3.3921695020188594)
 (x = [0.39714181128985027, 0.01830990227789114, -0.05494375879521034, -0.23117485597810503, -0.0011945043773128477, -0.16232296582506608, -0.18230414566087436, -0.1037952353219816, 0.10288162863544201], y = -3.10096224728726)
 â‹®
 (x = [-1.7191921375080141, 0.3041506923878785, -2.2817426173626325, -0.6435941430565012, 1.106734880942793, -0.09055230853559172, -0.8715686343709033, -0.6285190189443277, 0.7458574185005543], y = 0.4774114646703844)
 (x = [2.4761781671655876, -15.41612378330415, 0.2733574220389968, 9.67064527848062, 10.77667135025502, -1.3354466796496918, -0.9481672941190497, -4.704119183704383, -8.055068683361746], y = 4.211865080010611)
 (x = [-0.19119128813588673, 0.05414553572416269, 0.037632203414317604, -0.16644516690194303, -0.18972692798145982, -0.08513376159065703, -0.012294218040699719, 0.12254323953314131, 0.19069405793541985], y = -3.5886199190676304)
 (x = [-0.3015861933649038, 0.12343759116617158, 0.19963264541624057, 0.006482445642982729, -0.12154404393533709, -0.34791699155250866, 0.24846712906398774, 0.05158323239781879, 0.5724525676758505], y = -2.4656072846603605)
 (x = [2.222020865643679, -1.1073363398545197, -5.463909660384837, 0.17990545400922517, 1.6057082575183512, 4.279360215965474, -4.259521656832733, -1.8050190108198005, -2.8679398437180037], y = 2.527411052314774)
 (x = [0.09905149736226998, 0.9503614953715279, 1.0158837339970763, 0.1985568079778163, 0.660905690777188, -1.1896300970355007, -1.0150163938523251, -1.111900291799362, -0.12422563610671], y = -0.5580487137869661)
 (x = [-0.2587761053912434, 0.35087192264847494, 0.5556771656145845, -0.041068735893269114, -0.23604829465910282, -0.007463456691779424, -0.22956181101974701, 0.04250142882348031, 0.24372354829886286], y = -2.7532312824380387)
 (x = [0.24446746086875806, 0.5257572844287933, -0.18701121331004125, 0.1400568432687995, -0.06841454671244676, -0.058140900037582266, -0.42161161203568787, 0.01542814965510902, 0.37969391545584447], y = -2.4831463809185794)
 (x = [-0.43233143136765895, -1.8841148116282418, 0.2624414671119769, -0.5763914420719852, -0.2739814351699253, 0.725655372833591, 1.0500629925126135, -0.05435650761434909, -0.9004557741837556], y = -0.6564742406940214)</code></pre>
</div>
</div>
<p>Note that for the <code>returned</code> call to work, the <code>Neal_with_extras()</code> model must have the same variable names as stored in <code>chain</code>. This means the submodel <code>Neal()</code> must not be prefixed, i.e.&nbsp;<code>to_submodel()</code> must be passed a second parameter <code>false</code>.</p>


</section>

<a onclick="window.scrollTo(0, 0); return false;" role="button" id="quarto-back-to-top"><i class="bi bi-arrow-up"></i> Back to top</a></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    // Ensure there is a toggle, if there isn't float one in the top right
    if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
      const a = window.document.createElement('a');
      a.classList.add('top-right');
      a.classList.add('quarto-color-scheme-toggle');
      a.href = "";
      a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
      const i = window.document.createElement("i");
      i.classList.add('bi');
      a.appendChild(i);
      window.document.body.appendChild(a);
    }
    setColorSchemeToggle(hasAlternateSentinel())
    const icon = "î§‹";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/turinglang\.org\/docs\/");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="../../usage/modifying-logprob/index.html" class="pagination-link" aria-label="Modifying the Log Probability">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">Modifying the Log Probability</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../../usage/mode-estimation/index.html" class="pagination-link" aria-label="Mode Estimation">
        <span class="nav-page-text">Mode Estimation</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p>Turing is created by <a href="http://mlg.eng.cam.ac.uk/hong/" target="_blank">Hong Ge</a>, and lovingly maintained by the <a href="https://github.com/TuringLang/Turing.jl/graphs/contributors" target="_blank">core team</a> of volunteers. <br> The contents of this website are Â© 2024 under the terms of the <a href="https://github.com/TuringLang/Turing.jl/blob/main/LICENCE" target="_blank">MIT License</a>.</p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    <div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/TuringLang/docs/edit/main/usage/tracking-extra-quantities/index.qmd" target="_blank" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/TuringLang/docs/issues/new" target="_blank" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div></div>
    <div class="nav-footer-right">
      <ul class="footer-items list-unstyled">
    <li class="nav-item compact">
    <a class="nav-link" href="https://x.com/TuringLang">
      <i class="bi bi-twitter" role="img" aria-label="Turing Twitter">
</i> 
    </a>
  </li>  
    <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/TuringLang/Turing.jl">
      <i class="bi bi-github" role="img" aria-label="Turing GitHub">
</i> 
    </a>
  </li>  
</ul>
    </div>
  </div>
</footer>




<script src="../../site_libs/quarto-html/zenscroll-min.js"></script>
</body></html>